/* =========================
   IMATH iOS look + carcasa web (oscuro)
   ========================= */

/* Paleta y dimensiones base */
:root{
  /* Carcasa */
  --bg: #000000;
  --panel-top: #0a0b0d;
  --panel-bot: #05060a;
  --panel-border: rgba(255,255,255,0.06);
  --panel-shadow: 0 28px 64px rgba(0,0,0,.7), inset 0 1px 0 rgba(255,255,255,.04);

  /* Branding */
  --brand-text: "IMATH";
  --brand-color: rgba(255,255,255,0.12);

  /* Pantalla */
  --screen-bg: transparent;
  --screen-text: #ffffff;
  --screen-size: 64px;

  /* Botones */
  --btn-grey: #3e3e3e;           /* más oscuro */
  --btn-grey-hover: #575757;
  --btn-ac: #9d9d9d;             /* AC claro */
  --btn-ac-hover: #b8b8b8;
  --btn-op: #ff9500;             /* naranja iOS */
  --btn-op-hover: #ffb84d;
  --btn-text: #ffffff;

  /* Tamaños */
  --btn-gap: 18px;
  --btn-size: 84px;              /* diámetro mínimo (más grande) */
  --btn-font: 2.2rem;            /* números */
  --btn-font-ops: 2.7rem;        /* operaciones más grandes */
  --btn-font-dot: 2.3rem;        /* punto un poco más grande */

  --focus: #a58cff;              /* foco accesible */
  --btn-shadow: 0 2px 10px rgba(0,0,0,.28);

  --wrapper-w: 440px;            /* un poco más grande */
}

/* Reset/base */
html, body{ height:100%; }
*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  background: var(--bg);
  color: var(--btn-text);
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 32px;
}

/* Carcasa web con marca centrada */
.wrapper{
  width: var(--wrapper-w);
  max-width: calc(100% - 40px);
  background: linear-gradient(180deg, var(--panel-top), var(--panel-bot));
  border-radius: 18px;
  padding: 26px 20px 22px;
  border: 1px solid var(--panel-border);
  box-shadow: var(--panel-shadow);
  position: relative;
  overflow: hidden;
}

/* Marca IMATH centrada arriba */
.wrapper::before{
  content: var(--brand-text);
  position: absolute;
  top: 10px;
  left: 0;
  right: 0;
  text-align: center;
  font-weight: 800;
  letter-spacing: 3.6px;
  font-size: 12px;
  color: var(--brand-color);
  text-shadow: 0 1px 0 rgba(112,110,110,0.5);
  pointer-events: none;
}

/* Pantalla estilo iOS */
.screen{
  height: 92px;
  border-radius: 10px;
  background: var(--screen-bg);
  color: var(--screen-text);
  display:flex;
  align-items:flex-end;
  justify-content:flex-end;
  padding: 0 18px;
  font-size: var(--screen-size);
  font-weight: 400;
  letter-spacing: 1.4px;
  border: none;
  box-shadow: none;
  margin-top: 8px;   /* deja espacio para IMATH */
  margin-bottom: 20px;
}

/* Grid de botones (4 columnas) */
.calc-buttons{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--btn-gap);
}
.calc-button-row{ display: contents; } /* no rompe tu estructura */

/* Botón circular base */
.calc-button{
  border: none;
  outline: none;
  width: 100%;
  aspect-ratio: 1 / 1;                 /* círculo */
  min-height: var(--btn-size);
  border-radius: 50%;
  background: var(--btn-grey);
  color: var(--btn-text);
  font-size: var(--btn-font);
  font-weight: 400;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  box-shadow: var(--btn-shadow);
  transition: background .15s ease, color .15s ease, transform .09s ease;
}

/* Hover con zoom (desktop) + Active */
.calc-button:hover{ background: var(--btn-grey-hover); transform: scale(1.05); }
.calc-button:active{ transform: scale(.98); }
.calc-button:focus-visible{ outline: 2px solid var(--focus); outline-offset: 2px; }

/* Operaciones grandes (÷ × − + =) */
.calc-button.op{ font-size: var(--btn-font-ops); }

/* Punto “.” ligeramente más grande para legibilidad */
.calc-button.dot{ font-size: var(--btn-font-dot); }

/* Botón “calculadora” (ícono/emoji/SVG) */
.calc-button.tool{
  background: var(--btn-grey);
  color: var(--btn-text);
}
.calc-button.tool:hover{ background: var(--btn-grey-hover); }

/* AC claro (solo el primer botón de la 1ª fila por posición y/o clase) */
.calc-button.ac{
  background: var(--btn-ac);
  color:#fff;
}
.calc-button.ac:hover{ background: var(--btn-ac-hover); }

/* Columna de operaciones (÷ × − + y =) -> naranja */
.calc-button.op,
.calc-buttons > .calc-button:nth-child(4n),
.calc-button-row > .calc-button:last-child{
  background: var(--btn-op);
  color:#fff;
}
.calc-button.op:hover,
.calc-buttons > .calc-button:nth-child(4n):hover,
.calc-button-row > .calc-button:last-child:hover{
  background: var(--btn-op-hover);
}

/* Igual (fallback si no cae en col 4 por estructura) */
.calc-buttons .calc-button.equal,
.calc-buttons .calc-button:last-child,
.calc-button-row:last-child .calc-button:last-child{
  background: var(--btn-op);
  color:#fff;
}
.calc-buttons .calc-button.equal:hover{ background: var(--btn-op-hover); }

/* Botones anchos en pastilla (si los usas en otras vistas) */
.double{
  grid-column: span 2;
  aspect-ratio: auto;
  height: var(--btn-size);
  border-radius: 999px;
}
.triple{
  grid-column: span 3;
  aspect-ratio: auto;
  height: var(--btn-size);
  border-radius: 999px;
}

/* Responsivo */
@media (max-width: 480px){
  :root{
    --btn-gap: 14px;
    --btn-size: 68px;
    --btn-font: 1.9rem;
    --btn-font-ops: 2.3rem;
    --btn-font-dot: 2.1rem;
    --screen-size: 50px;
    --wrapper-w: 100%;
  }
  .wrapper{ width: 100%; padding: 16px; border-radius: 16px; }
  .screen{ height: 78px; }
}